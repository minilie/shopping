Ôr@Ÿªassertions¤code´customTransformCache¬dependencies¢id¤meta±moduleSideEffects¬originalCode±originalSourcemap«resolvedIds®sourcemapChainµsyntheticNamedExportsµtransformDependencies®transformFiles¨cacheAstÔrAÚ/*
 * Copyright (c) 2021-2022 Huawei Device Co., Ltd.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import {SuiteService, SpecService, ExpectService, ReportService} from './service';
import {ConfigService} from './module/config/configService';
import {SpecEvent, TaskEvent, SuiteEvent} from './event';

/**
 * core service for execute testcase.
 */
class Core {
    static getInstance() {
        if (!this.instance) {
            this.instance = new Core();
        }
        return this.instance;
    }

    constructor() {
        this.instance = null;
        this.services = {
            suite: {},
            spec: {},
            config: {},
            expect: {},
            log: {},
            report: {}

        };
        this.events = {
            suite: {},
            spec: {},
            task: {}
        };
    }

    addService(name, service) {
        let serviceObj = {};
        if (!this.services[name]) {
            this.services[name] = serviceObj;
        } else {
            serviceObj = this.services[name];
        }
        serviceObj[service.id] = service;
    }

    getDefaultService(name) {
        return this.services[name].default;
    }

    getServices(name) {
        return this.services[name];
    }

    registerEvent(serviceName, event) {
        let eventObj = {};
        if (!this.events[serviceName]) {
            this.events[serviceName] = eventObj;
        } else {
            eventObj = this.events[serviceName];
        }
        eventObj[event.id] = event;
    }

    unRegisterEvent(serviceName, eventID) {
        const eventObj = this.events[serviceName];
        if (eventObj) {
            delete eventObj[eventID];
        }
    }

    subscribeEvent(serviceName, serviceObj) {
        const eventObj = this.events[serviceName];
        if (eventObj) {
            for (const attr in eventObj) {
                eventObj[attr]['subscribeEvent'](serviceObj);
            }
        }
    }

    async fireEvents(serviceName, eventName) {
        const eventObj = this.events[serviceName];
        if (!eventObj) {
            return;
        }
        for (const attr in eventObj) {
            await eventObj[attr][eventName]();
        }
    }

    addToGlobal(apis) {
        if (typeof globalThis !== 'undefined') {
            for (let api in apis) {
                globalThis[api] = apis[api];
            }
        }
        for (const api in apis) {
            this[api] = apis[api];
        }
    }

    init() {
        this.addService('suite', new SuiteService({id: 'default'}));
        this.addService('spec', new SpecService({id: 'default'}));
        this.addService('expect', new ExpectService({id: 'default'}));
        this.addService('report', new ReportService({id: 'default'}));
        this.addService('config', new ConfigService({id: 'default'}));
        this.registerEvent('task', new TaskEvent({id: 'default', coreContext: this}));
        this.registerEvent('suite', new SuiteEvent({id: 'default', coreContext: this}));
        this.registerEvent('spec', new SpecEvent({id: 'default', coreContext: this}));
        this.subscribeEvent('spec', this.getDefaultService('report'));
        this.subscribeEvent('suite', this.getDefaultService('report'));
        this.subscribeEvent('task', this.getDefaultService('report'));
        const context = this;
        for (const key in this.services) {
            const serviceObj = this.services[key];
            for (const serviceID in serviceObj) {
                const service = serviceObj[serviceID];
                service.init(context);

                if (typeof service.apis !== 'function') {
                    continue;
                }
                const apis = service.apis();
                if (apis) {
                    this.addToGlobal(apis);
                }
            }
        }
    }

    execute(abilityDelegator) {
        const suiteService = this.getDefaultService('suite');
        const configService = this.getDefaultService('config');
        if (configService['dryRun'] === 'true') {
            (async function () {
                await suiteService.dryRun(abilityDelegator);
            })();
            return;
        }
        setTimeout(() => {
            suiteService.execute();
        }, 10);
    }
}

export default Core;
Â“ÙkD:\shopping\List_commodity\oh_modules\.ohpm\@ohos+hypium@1.0.24\oh_modules\@ohos\hypium\src\main\service.jsÙD:\shopping\List_commodity\oh_modules\.ohpm\@ohos+hypium@1.0.24\oh_modules\@ohos\hypium\src\main\module\config\configService.jsÙiD:\shopping\List_commodity\oh_modules\.ohpm\@ohos+hypium@1.0.24\oh_modules\@ohos\hypium\src\main\event.jsÙhD:\shopping\List_commodity\oh_modules\.ohpm\@ohos+hypium@1.0.24\oh_modules\@ohos\hypium\src\main\core.jsÔrB˜±isLocalDependency¯isNodeEntryFile§pkgPath§pkgNameªpkgVersion±belongProjectPath±dependencyPkgInfo¨commonjsÂÂÙWD:\shopping\List_commodity\oh_modules\.ohpm\@ohos+hypium@1.0.24\oh_modules\@ohos\hypium¬@ohos/hypium¦1.0.24ºD:\shopping\List_commodityÔrC’§pkgNameªpkgVersion¬@ohos/hypium¦1.0.24ÔrD’°hasDefaultExportªisCommonJSÃÂÃÚ/*
 * Copyright (c) 2021-2022 Huawei Device Co., Ltd.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import {SuiteService, SpecService, ExpectService, ReportService} from './service';
import {ConfigService} from './module/config/configService';
import {SpecEvent, TaskEvent, SuiteEvent} from './event';

/**
 * core service for execute testcase.
 */
class Core {
    static getInstance() {
        if (!this.instance) {
            this.instance = new Core();
        }
        return this.instance;
    }

    constructor() {
        this.instance = null;
        this.services = {
            suite: {},
            spec: {},
            config: {},
            expect: {},
            log: {},
            report: {}

        };
        this.events = {
            suite: {},
            spec: {},
            task: {}
        };
    }

    addService(name, service) {
        let serviceObj = {};
        if (!this.services[name]) {
            this.services[name] = serviceObj;
        } else {
            serviceObj = this.services[name];
        }
        serviceObj[service.id] = service;
    }

    getDefaultService(name) {
        return this.services[name].default;
    }

    getServices(name) {
        return this.services[name];
    }

    registerEvent(serviceName, event) {
        let eventObj = {};
        if (!this.events[serviceName]) {
            this.events[serviceName] = eventObj;
        } else {
            eventObj = this.events[serviceName];
        }
        eventObj[event.id] = event;
    }

    unRegisterEvent(serviceName, eventID) {
        const eventObj = this.events[serviceName];
        if (eventObj) {
            delete eventObj[eventID];
        }
    }

    subscribeEvent(serviceName, serviceObj) {
        const eventObj = this.events[serviceName];
        if (eventObj) {
            for (const attr in eventObj) {
                eventObj[attr]['subscribeEvent'](serviceObj);
            }
        }
    }

    async fireEvents(serviceName, eventName) {
        const eventObj = this.events[serviceName];
        if (!eventObj) {
            return;
        }
        for (const attr in eventObj) {
            await eventObj[attr][eventName]();
        }
    }

    addToGlobal(apis) {
        if (typeof globalThis !== 'undefined') {
            for (let api in apis) {
                globalThis[api] = apis[api];
            }
        }
        for (const api in apis) {
            this[api] = apis[api];
        }
    }

    init() {
        this.addService('suite', new SuiteService({id: 'default'}));
        this.addService('spec', new SpecService({id: 'default'}));
        this.addService('expect', new ExpectService({id: 'default'}));
        this.addService('report', new ReportService({id: 'default'}));
        this.addService('config', new ConfigService({id: 'default'}));
        this.registerEvent('task', new TaskEvent({id: 'default', coreContext: this}));
        this.registerEvent('suite', new SuiteEvent({id: 'default', coreContext: this}));
        this.registerEvent('spec', new SpecEvent({id: 'default', coreContext: this}));
        this.subscribeEvent('spec', this.getDefaultService('report'));
        this.subscribeEvent('suite', this.getDefaultService('report'));
        this.subscribeEvent('task', this.getDefaultService('report'));
        const context = this;
        for (const key in this.services) {
            const serviceObj = this.services[key];
            for (const serviceID in serviceObj) {
                const service = serviceObj[serviceID];
                service.init(context);

                if (typeof service.apis !== 'function') {
                    continue;
                }
                const apis = service.apis();
                if (apis) {
                    this.addToGlobal(apis);
                }
            }
        }
    }

    execute(abilityDelegator) {
        const suiteService = this.getDefaultService('suite');
        const configService = this.getDefaultService('config');
        if (configService['dryRun'] === 'true') {
            (async function () {
                await suiteService.dryRun(abilityDelegator);
            })();
            return;
        }
        setTimeout(() => {
            suiteService.execute();
        }, 10);
    }
}

export default Core;
ÔrE•§version¨mappings¥names§sources®sourcesContentÜ  ‘”    ‘”   ‘”   ‘”   ‘”   ‘”   ‘”   ‘”   ‘”   ‘”  	 ‘”  
 ‘”   ‘”   ‘”   ‘”   ‘”   ‘”   ‘”   ‘”   ‘”   ‘”   ‘”   ‘”   ‘”   ‘”   ‘”   ‘”   ‘”   ‘”   ‘”   ‘”   ‘”   ‘”    ‘”  ! ‘”  " ‘”  # ‘”  $ ‘”  % ‘”  & ‘”  ' ‘”  ( ‘”  ) ‘”  * ‘”  + ‘”  , ‘”  - ‘”  . ‘”  / ‘”  0 ‘”  1 ‘”  2 ‘”  3 ‘”  4 ‘”  5 ‘”  6 ‘”  7 ‘”  8 ‘”  9 ‘”  : ‘”  ; ‘”  < ‘”  = ‘”  > ‘”  ? ‘”  Ì@ ‘”  ÌA ‘”  ÌB ‘”  ÌC ‘”  ÌD ‘”  ÌE ‘”  ÌF ‘”  ÌG ‘”  ÌH ‘”  ÌI ‘”  ÌJ ‘”  ÌK ‘”  ÌL ‘”  ÌM ‘”  ÌN ‘”  ÌO ‘”  ÌP ‘”  ÌQ ‘”  ÌR ‘”  ÌS ‘”  ÌT ‘”  ÌU ‘”  ÌV ‘”  ÌW ‘”  ÌX ‘”  ÌY ‘”  ÌZ ‘”  Ì[ ‘”  Ì\ ‘”  Ì] ‘”  Ì^ ‘”  Ì_ ‘”  Ì` ‘”  Ìa ‘”  Ìb ‘”  Ìc ‘”  Ìd ‘”  Ìe ‘”  Ìf ‘”  Ìg ‘”  Ìh ‘”  Ìi ‘”  Ìj ‘”  Ìk ‘”  Ìl ‘”  Ìm ‘”  Ìn ‘”  Ìo ‘”  Ìp ‘”  Ìq ‘”  Ìr ‘”  Ìs ‘”  Ìt ‘”  Ìu ‘”  Ìv ‘”  Ìw ‘”  Ìx ‘”  Ìy ‘”  Ìz ‘”  Ì{ ‘”  Ì| ‘”  Ì} ‘”  Ì~ ‘”  Ì ‘”  Ì€ ‘”  Ì ‘”  Ì‚ ‘”  Ìƒ ‘”  Ì„ ‘”  Ì… ‘”  Ì† ‘”  Ì‡ ‘”  Ìˆ ‘”  Ì‰ ‘”  ÌŠ ‘”  Ì‹ ‘”  ÌŒ ‘”  Ì ‘”  Ì ‘”  Ì ‘”  Ì ‘”  Ì‘ ‘”  Ì’ ‘”  Ì“ ‘”  Ì” ‘”  Ì• ‘”  Ì– ‘”  Ì— ‘”  Ì˜ ‘”  Ì™ ‘”  Ìš ‘”  Ì› ‘”  Ìœ ‘”  Ì ‘”  Ì ‘ÙhD:\shopping\List_commodity\oh_modules\.ohpm\@ohos+hypium@1.0.24\oh_modules\@ohos\hypium\src\main\core.js‘Ú/*
 * Copyright (c) 2021-2022 Huawei Device Co., Ltd.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import {SuiteService, SpecService, ExpectService, ReportService} from './service';
import {ConfigService} from './module/config/configService';
import {SpecEvent, TaskEvent, SuiteEvent} from './event';

/**
 * core service for execute testcase.
 */
class Core {
    static getInstance() {
        if (!this.instance) {
            this.instance = new Core();
        }
        return this.instance;
    }

    constructor() {
        this.instance = null;
        this.services = {
            suite: {},
            spec: {},
            config: {},
            expect: {},
            log: {},
            report: {}

        };
        this.events = {
            suite: {},
            spec: {},
            task: {}
        };
    }

    addService(name, service) {
        let serviceObj = {};
        if (!this.services[name]) {
            this.services[name] = serviceObj;
        } else {
            serviceObj = this.services[name];
        }
        serviceObj[service.id] = service;
    }

    getDefaultService(name) {
        return this.services[name].default;
    }

    getServices(name) {
        return this.services[name];
    }

    registerEvent(serviceName, event) {
        let eventObj = {};
        if (!this.events[serviceName]) {
            this.events[serviceName] = eventObj;
        } else {
            eventObj = this.events[serviceName];
        }
        eventObj[event.id] = event;
    }

    unRegisterEvent(serviceName, eventID) {
        const eventObj = this.events[serviceName];
        if (eventObj) {
            delete eventObj[eventID];
        }
    }

    subscribeEvent(serviceName, serviceObj) {
        const eventObj = this.events[serviceName];
        if (eventObj) {
            for (const attr in eventObj) {
                eventObj[attr]['subscribeEvent'](serviceObj);
            }
        }
    }

    async fireEvents(serviceName, eventName) {
        const eventObj = this.events[serviceName];
        if (!eventObj) {
            return;
        }
        for (const attr in eventObj) {
            await eventObj[attr][eventName]();
        }
    }

    addToGlobal(apis) {
        if (typeof globalThis !== 'undefined') {
            for (let api in apis) {
                globalThis[api] = apis[api];
            }
        }
        for (const api in apis) {
            this[api] = apis[api];
        }
    }

    init() {
        this.addService('suite', new SuiteService({id: 'default'}));
        this.addService('spec', new SpecService({id: 'default'}));
        this.addService('expect', new ExpectService({id: 'default'}));
        this.addService('report', new ReportService({id: 'default'}));
        this.addService('config', new ConfigService({id: 'default'}));
        this.registerEvent('task', new TaskEvent({id: 'default', coreContext: this}));
        this.registerEvent('suite', new SuiteEvent({id: 'default', coreContext: this}));
        this.registerEvent('spec', new SpecEvent({id: 'default', coreContext: this}));
        this.subscribeEvent('spec', this.getDefaultService('report'));
        this.subscribeEvent('suite', this.getDefaultService('report'));
        this.subscribeEvent('task', this.getDefaultService('report'));
        const context = this;
        for (const key in this.services) {
            const serviceObj = this.services[key];
            for (const serviceID in serviceObj) {
                const service = serviceObj[serviceID];
                service.init(context);

                if (typeof service.apis !== 'function') {
                    continue;
                }
                const apis = service.apis();
                if (apis) {
                    this.addToGlobal(apis);
                }
            }
        }
    }

    execute(abilityDelegator) {
        const suiteService = this.getDefaultService('suite');
        const configService = this.getDefaultService('config');
        if (configService['dryRun'] === 'true') {
            (async function () {
                await suiteService.dryRun(abilityDelegator);
            })();
            return;
        }
        setTimeout(() => {
            suiteService.execute();
        }, 10);
    }
}

export default Core;
ÔrF“§./event©./service½./module/config/configServiceÔrG—ªassertions¨external¢id¤meta±moduleSideEffectsªresolvedByµsyntheticNamedExportsAÂÙiD:\shopping\List_commodity\oh_modules\.ohpm\@ohos+hypium@1.0.24\oh_modules\@ohos\hypium\src\main\event.jsAÃªoh-resolveÂGAÂÙkD:\shopping\List_commodity\oh_modules\.ohpm\@ohos+hypium@1.0.24\oh_modules\@ohos\hypium\src\main\service.jsAÃªoh-resolveÂGAÂÙD:\shopping\List_commodity\oh_modules\.ohpm\@ohos+hypium@1.0.24\oh_modules\@ohos\hypium\src\main\module\config\configService.jsAÃªoh-resolveÂ‘ÔrH’§missing¦pluginÃ¦genAbcÂÔ  ÔrI”²dynamicImportCache¹exportAllDeclarationCache»exportNamedDeclarationCache«importCache“ÔrJ•¤type¥start£endªspecifiers¦source±ImportDeclarationÍuÍÇ”ÔrK•¤type¥start£end¨imported¥local¯ImportSpecifierÍ}Í‰ÔrL”¤type¥start£end¤nameªIdentifierÍ}Í‰¬SuiteServiceLªIdentifierÍ}Í‰¬SuiteServiceK¯ImportSpecifierÍ‹Í–LªIdentifierÍ‹Í–«SpecServiceLªIdentifierÍ‹Í–«SpecServiceK¯ImportSpecifierÍ˜Í¥LªIdentifierÍ˜Í¥­ExpectServiceLªIdentifierÍ˜Í¥­ExpectServiceK¯ImportSpecifierÍ§Í´LªIdentifierÍ§Í´­ReportServiceLªIdentifierÍ§Í´­ReportServiceÔrM•¤type¥start£end¥value£raw§LiteralÍ»ÍÆ©./service«'./service'J±ImportDeclarationÍÉÍ‘K¯ImportSpecifierÍÑÍŞLªIdentifierÍÑÍŞ­ConfigServiceLªIdentifierÍÑÍŞ­ConfigServiceM§LiteralÍåÍ½./module/config/configService¿'./module/config/configService'J±ImportDeclarationÍÍ@“K¯ImportSpecifierÍÍLªIdentifierÍÍ©SpecEventLªIdentifierÍÍ©SpecEventK¯ImportSpecifierÍÍ#LªIdentifierÍÍ#©TaskEventLªIdentifierÍÍ#©TaskEventK¯ImportSpecifierÍ%Í/LªIdentifierÍ%Í/ªSuiteEventLªIdentifierÍ%Í/ªSuiteEventM§LiteralÍ6Í?§./event©'./event'